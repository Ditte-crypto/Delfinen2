CREATE DATABASE IF NOT exists `dittedelfin`;

create table medlemmer (
MedlemsID int not null auto_increment,
Navn varchar(255) default null,
Aargang int not null,
Betalt boolean,
Aktiv boolean,
primary key(MedlemsID)
)engine=InnoDB default charset=utf8;

CREATE TABLE `betalinger` (
                       `payid` int(11) NOT NULL AUTO_INCREMENT,
                       `memberid` int(11) NOT NULL,
                       `year` int(11) NOT NULL,
                       `amount` int(11) NOT NULL,
                       PRIMARY KEY (`payid`),
                       FOREIGN KEY (`memberid`) REFERENCES `medlemmer` (`medlemsid`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8 ;



CREATE TABLE `discipline` (
                              `discipline_id` int(11) NOT NULL AUTO_INCREMENT,
                              `distance` int(11) NOT NULL,
                              `style` varchar(255) NOT NULL,
                              PRIMARY KEY (`discipline_id`),
                              KEY `fk_discipline_style_idx` (`style_id`),
                              CONSTRAINT `fk_discipline_style` FOREIGN KEY (`style_id`) REFERENCES `style` (`style_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=utf8 COLLATE=utf8_danish_ci;

CREATE TABLE `link_medlem_disciplin` (
                              `link_id` int(11) NOT NULL AUTO_INCREMENT,
                                          `medlemsid` int(11) NOT NULL,
                                          `discipline_id` int(11) NOT NULL,
                                          FOREIGN KEY (`discipline_id`) REFERENCES `discipline` (`discipline_id`),
                                          FOREIGN KEY (`medlemsid`) REFERENCES `medlemmer` (`medlemsid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
